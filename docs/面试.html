<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2024-04-30T19:02:50.580987"><title>面试 | Notes</title><script type="application/json" id="virtual-toc-data">[{"id":"jvm","level":0,"title":"JVM","anchor":"#jvm"},{"id":"mysql","level":0,"title":"MySQL","anchor":"#mysql"},{"id":"redis","level":0,"title":"Redis","anchor":"#redis"},{"id":"jmm","level":0,"title":"JMM","anchor":"#jmm"},{"id":"hashmap","level":0,"title":"HashMap","anchor":"#hashmap"},{"id":"spring","level":0,"title":"Spring","anchor":"#spring"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b259/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="面试 | Notes"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Notes Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/面试.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="面试 | Notes"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/面试.html#webpage",
    "url": "writerside-documentation/面试.html",
    "name": "面试 | Notes",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Notes Help"
}</script><!-- End Schema.org --></head><body data-id="面试" data-main-title="面试" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Notes///java///notes"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Notes  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="面试" id="面试.md">面试</h1><section class="chapter"><h2 id="jvm" data-toc="jvm">JVM</h2><section class="chapter"><h3 id="s7cmy_324" data-toc="s7cmy_324">类加载器</h3><ul class="list _bullet" id="s7cmy_325"><li class="list__item" id="s7cmy_326"><p id="s7cmy_327">双亲委派机制:安全</p><ul class="list _bullet" id="s7cmy_328"><li class="list__item" id="s7cmy_329"><p>App--&gt;EXC--BOOT(最终执行)</p></li></ul><ol class="list _decimal" id="s7cmy_330" type="1"><li class="list__item" id="s7cmy_331"><p>类加载器收到类加载的请求</p></li><li class="list__item" id="s7cmy_332"><p>将这个请求向上托付给父类加载器去完成,一直向上委托,直到启动类加载器</p></li><li class="list__item" id="s7cmy_333"><p>启动加载器检查是否能够加载当前这个类,能加载就结束,使用当前加载器,否则抛出异常,通知子类加载器进行加载</p></li><li class="list__item" id="s7cmy_334"><p>重复步骤3</p></li></ol><ul class="list _bullet" id="s7cmy_335"><li class="list__item" id="s7cmy_336"><p>最底层用c写,所以返回null,java获取不到</p></li></ul></li><li class="list__item" id="s7cmy_337"><p id="s7cmy_338">BootstrapClassLoader（启动类加载器）</p><ul class="list _bullet" id="s7cmy_339"><li class="list__item" id="s7cmy_340"><p>c++编写，加载java核心库 java.*,构造ExtClassLoader和AppClassLoader。由于引导类加载器涉及到虚拟机本地实现细节，开发者无法直接获取到启动类加载器的引用，所以不允许直接通过引用进行操作</p></li></ul></li><li class="list__item" id="s7cmy_341"><p id="s7cmy_342">ExtClassLoader （标准扩展类加载器）</p><ul class="list _bullet" id="s7cmy_343"><li class="list__item" id="s7cmy_344"><p>java编写，加载扩展库，如classpath中的jre ，javax.*或者java.ext.dir 指定位置中的类，开发者可以直接使用标准扩展类加载器。</p></li></ul></li><li class="list__item" id="s7cmy_345"><p id="s7cmy_346">AppClassLoader（系统类加载器）</p><ul class="list _bullet" id="s7cmy_347"><li class="list__item" id="s7cmy_348"><p>java编写，加载程序所在的目录，如user.dir所在的位置的class</p></li></ul></li></ul><p id="s7cmy_349">CustomClassLoader（用户自定义类加载器） java编写,用户自定义的类加载器,可加载指定路径的class文件</p></section><section class="chapter"><h3 id="s7cmy_350" data-toc="s7cmy_350">沙箱安全机制</h3></section><section class="chapter"><h3 id="native" data-toc="native">native</h3><ul class="list _bullet" id="s7cmy_351"><li class="list__item" id="s7cmy_352"><p>凡是带了native关键字的,说明java的作用范围达不到了,去底层调用c语言,会进入本地方法栈 java native interface</p></li><li class="list__item" id="s7cmy_353"><p>JNI :扩展Java的使用,融合不同的编程语言为Java所用</p></li></ul></section><section class="chapter"><h3 id="pc" data-toc="pc">PC 寄存器</h3><ul class="list _bullet" id="s7cmy_354"><li class="list__item" id="s7cmy_355"><p>每个线程都有一个程序计数器,是线程私有的,是一个指针,指向方法去种的方法字节码(用来存储指向像一条指令的地址 ,也即将要执行的代码),在执行引擎读取下一条指令,是一个非常小的空间,几乎可以忽略不计</p></li></ul></section><section class="chapter"><h3 id="s7cmy_356" data-toc="s7cmy_356">方法区</h3><ul class="list _bullet" id="s7cmy_357"><li class="list__item" id="s7cmy_358"><p>方法去被所有线程共享,所有字段和方法字节码,以及一些特殊方法,如构造函数,接口代码也在此定义 简单说,所有定义的方法都保存在该区域,此区域属于共享区间 </p><ul class="list _bullet" id="s7cmy_359"><li class="list__item" id="s7cmy_360"><p>静态变量,常量,类信息(构造方法,接口定义),运行时的常量池存在方法区中,但是实例变量存在堆内存中,和方法区无关 jvisualvm</p></li></ul></li></ul><figure id="s7cmy_361"><img alt="B6958258" src="images/b6958258.png" title="B6958258" width="967" height="575"></figure></section><section class="chapter"><h3 id="s7cmy_362" data-toc="s7cmy_362">栈</h3><section class="chapter"><h4 id="s7cmy_363" data-toc="s7cmy_363">栈帧</h4><p id="s7cmy_364">一个方法对应一块栈帧内存区域</p><ol class="list _decimal" id="s7cmy_365" type="1"><li class="list__item" id="s7cmy_366"><p>局部变量表</p></li><li class="list__item" id="s7cmy_367"><p>操作数栈</p></li><li class="list__item" id="s7cmy_368"><p>动态链接</p></li><li class="list__item" id="s7cmy_369"><p>方法出口 </p><figure id="s7cmy_370"><img alt="50cad566" src="images/50cad566.png" title="50cad566" width="1623" height="723"></figure></li></ol></section></section><section class="chapter"><h3 id="s7cmy_371" data-toc="s7cmy_371">程序计数器</h3></section><section class="chapter"><h3 id="javap" data-toc="javap">javap</h3><p id="s7cmy_372"><code class="code" id="s7cmy_373">javap -c xxx.class</code>反编译 <code class="code" id="s7cmy_374">&gt; xxx.txt</code></p></section><section class="chapter"><h3 id="s7cmy_375" data-toc="s7cmy_375">堆</h3><section class="chapter"><h4 id="s7cmy_376" data-toc="s7cmy_376">直接内存</h4><figure id="s7cmy_377"><img alt="16679085" src="images/16679085.png" title="16679085" width="1093" height="183"></figure><ol class="list _decimal" id="s7cmy_378" type="1"><li class="list__item" id="s7cmy_379"><p>年轻代(1/3) </p><ul class="list _bullet" id="s7cmy_380"><li class="list__item" id="s7cmy_381"><p>Eden(8/10)(minor gc区)</p></li><li class="list__item" id="s7cmy_382"><p>Survivor区(2/10) </p><ul class="list _bullet" id="s7cmy_383"><li class="list__item" id="s7cmy_384"><p>s0(1/10)</p></li><li class="list__item" id="s7cmy_385"><p>s1(1/10)</p></li></ul></li></ul></li><li class="list__item" id="s7cmy_386"><p>老年代(2/3)</p></li></ol></section><section class="chapter"><h4 id="s7cmy_387" data-toc="s7cmy_387">垃圾回收</h4><ul class="list _bullet" id="s7cmy_388"><li class="list__item" id="s7cmy_389"><p id="s7cmy_390">gcRoot : 线程栈的本地变量,静态变量,本地方法栈的变量等等</p></li><li class="list__item" id="s7cmy_391"><p id="s7cmy_392">Object</p></li><li class="list__item" id="s7cmy_393"><p id="s7cmy_394">jdk1.6之前:永久代,常量池在方法区</p></li><li class="list__item" id="s7cmy_395"><p id="s7cmy_396">jdk1.7:永久代,慢慢退化, <code class="code" id="s7cmy_397">去永久代</code> ,常量池在堆中</p></li><li class="list__item" id="s7cmy_398"><p id="s7cmy_399">jdk1.8之后:无永久代,常量池在元空间</p></li></ul><figure id="s7cmy_400"><img alt="7fa854e9" src="images/7fa854e9.png" title="7fa854e9" width="1362" height="331"></figure><ol class="list _decimal" id="s7cmy_401" type="1"><li class="list__item" id="s7cmy_402"><p>Eden堆满 --&gt;minorgc( 查找gcRoot--&gt;可达性分析算法 --&gt;分代年龄+1 --&gt;复制到s0堆,清理Eden)</p></li><li class="list__item" id="s7cmy_403"><p>Eden堆满 --&gt;minorgc( 查找gcRoot--&gt;可达性分析算法 --&gt;分代年龄+1 --&gt;复 制到s1堆,清理Eden+s1) 之后s1 s2 反复横跳</p></li><li class="list__item" id="s7cmy_404"><p>分代年龄&gt;=15时,转移到老年代堆</p></li><li class="list__item" id="s7cmy_405"><p>老年代堆满--&gt;full gc -不能回收-&gt; OOM</p></li></ol></section></section><section class="chapter"><h3 id="s7cmy_406" data-toc="s7cmy_406">调优</h3><ul class="list _bullet" id="s7cmy_407"><li class="list__item" id="s7cmy_408"><p>目的: 减少STW(stop the world)</p></li><li class="list__item" id="s7cmy_409"><p>gc的时候会停止所有线程 为什么?</p></li></ul></section></section><section class="chapter"><h2 id="mysql" data-toc="mysql">MySQL</h2><ul class="list _bullet" id="s7cmy_410"><li class="list__item" id="s7cmy_411"><p id="s7cmy_412">慢SQL -优化-&gt; 加索引</p></li><li class="list__item" id="s7cmy_413"><p id="s7cmy_414">索引: 采用B+树数据结构,两次IO,内存取数 16kb一层 1170<span class="emphasis" id="s7cmy_415">1170</span>16,单个节点8kb,6kb</p></li><li class="list__item" id="s7cmy_416"><p id="s7cmy_417">聚集索引:叶子节点包含数据</p></li><li class="list__item" id="s7cmy_418"><p id="s7cmy_419">非聚集索引:MYI查找后从MYD中找数据(通过磁盘地址)</p></li><li class="list__item" id="s7cmy_420"><p id="s7cmy_421">innodb 必有主键索引,如果没设置,会构建隐藏列维护表结构</p></li></ul><p id="s7cmy_422">联合索引 排序 数据结构 B+Tree</p></section><section class="chapter"><h2 id="redis" data-toc="redis">Redis</h2></section><section class="chapter"><h2 id="jmm" data-toc="jmm">JMM</h2><p id="s7cmy_423">JSR-133</p><section class="chapter"><h3 id="s7cmy_424" data-toc="s7cmy_424">并行消息</h3><ul class="list _bullet" id="s7cmy_425"><li class="list__item" id="s7cmy_426"><p id="s7cmy_427">线程:程序进行的载体</p></li><li class="list__item" id="s7cmy_428"><p id="s7cmy_429">JMM 八大原子操作</p><ul class="list _bullet" id="s7cmy_430"><li class="list__item" id="s7cmy_431"><p>lock</p></li><li class="list__item" id="s7cmy_432"><p>unlock</p></li><li class="list__item" id="s7cmy_433"><p>read</p></li><li class="list__item" id="s7cmy_434"><p>load</p></li><li class="list__item" id="s7cmy_435"><p>use</p></li><li class="list__item" id="s7cmy_436"><p>assign</p></li><li class="list__item" id="s7cmy_437"><p>store</p></li><li class="list__item" id="s7cmy_438"><p>write</p></li></ul></li><li class="list__item" id="s7cmy_439"><p id="s7cmy_440">volatile 可见性原理</p><ul class="list _bullet" id="s7cmy_441"><li class="list__item" id="s7cmy_442"><p>底层实现: 通过汇编lock前缀指令触发底层缓存锁定机制(缓存一致性协议&amp;总线锁)</p></li></ul></li><li class="list__item" id="s7cmy_443"><p id="s7cmy_444">缓存一致性协议:</p><ul class="list _bullet" id="s7cmy_445"><li class="list__item" id="s7cmy_446"><p>msi mesi</p></li></ul></li></ul></section><section class="chapter"><h3 id="s7cmy_447" data-toc="s7cmy_447">分布式锁</h3><ul class="list _bullet" id="s7cmy_448"><li class="list__item" id="s7cmy_449"><p>synchronized </p><ul class="list _bullet" id="s7cmy_450"><li class="list__item" id="s7cmy_451"><p>基于c++,语言实现的同步机制</p></li></ul></li><li class="list__item" id="s7cmy_452"><p>AQS 同步器</p></li></ul></section></section><section class="chapter"><h2 id="hashmap" data-toc="hashmap">HashMap</h2><p id="s7cmy_453">数组+链表</p><ul class="list _bullet" id="s7cmy_454"><li class="list__item" id="s7cmy_455"><p>红黑树:</p></li><li class="list__item" id="s7cmy_456"><p>接近平衡的二叉搜索树,在每个节点上增加一个存储位表示节点的颜色,可以是Red 可以是Black,通过对任何一条从根到叶子的路径上各个节点着色方式的限制,红黑树确保没有一条 路径会比其他路径长处两倍,因而是接近平衡的 </p><ul class="list _bullet" id="s7cmy_457"><li class="list__item" id="s7cmy_458"><p>支持查找,插入,删除等操作,复杂度最坏为O(logn)</p></li><li class="list__item" id="s7cmy_459"><p>每个节点要么红要么黑</p></li><li class="list__item" id="s7cmy_460"><p>根节点是黑的</p></li><li class="list__item" id="s7cmy_461"><p>每个叶子节点(叶节点即指树尾端NIL指针或NULL节点)都是黑的</p></li><li class="list__item" id="s7cmy_462"><p>如果一个节点是红的,那么他的两个子节点都是黑的</p></li><li class="list__item" id="s7cmy_463"><p>对于任意节点而言,其到叶子节点树尾端NIL指针的每条路径都包含相同数目的黑节点 数组长度必须2的指数幂 寻找最近的较大的2的指数幂</p></li></ul></li></ul><p id="s7cmy_464">线程不安全 多线程扩容 会形成环形链表</p><p id="s7cmy_465">扩容因子:0.75</p></section><section class="chapter"><h2 id="spring" data-toc="spring">Spring</h2><section class="chapter"><h3 id="springioc" data-toc="springioc">SpringIOC</h3><section class="chapter"><h4 id="s7cmy_466" data-toc="s7cmy_466">控制反转(目的) 依赖注入(手段)</h4><ol class="list _decimal" id="s7cmy_467" type="1"><li class="list__item" id="s7cmy_468"><p>谁控制谁 IOC控制对象</p></li><li class="list__item" id="s7cmy_469"><p>控制什么 对象</p></li><li class="list__item" id="s7cmy_470"><p>为什么要反转</p></li><li class="list__item" id="s7cmy_471"><p>哪些方面反转了 创建权力反转</p></li></ol></section></section><section class="chapter"><h3 id="applicationcontext" data-toc="applicationcontext">ApplicationContext</h3><ul class="list _bullet" id="s7cmy_472"><li class="list__item" id="s7cmy_473"><p>ApplicationContext</p></li><li class="list__item" id="s7cmy_474"><p>BeanFactory </p><ul class="list _bullet" id="s7cmy_475"><li class="list__item" id="s7cmy_476"><p>IOC容器 </p><ul class="list _bullet" id="s7cmy_477"><li class="list__item" id="s7cmy_478"><p>singletonObjects 单例缓存池</p></li><li class="list__item" id="s7cmy_479"><p>BeanDefinitionSet ...一系列组件 Spring Bean 生命周期 @controller等注解被解析成BeanDefinitionSet-&gt; bean定义对象-&gt;BeanFactoryPostProcessor-&gt;getBean()-&gt;BeanPostProcessor-&gt;单例对象生成好</p></li></ul></li></ul></li></ul></section><section class="chapter"><h3 id="springboot" data-toc="springboot">SpringBoot</h3><ul class="list _bullet" id="s7cmy_480"><li class="list__item" id="s7cmy_481"><p>自动装配</p></li><li class="list__item" id="s7cmy_482"><p>自动流程{ jar包 war包 }</p></li><li class="list__item" id="s7cmy_483"><p>@Import</p></li></ul></section></section><div class="last-modified">Last modified: 30 四月 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="算法.html" class="navigation-links__prev">Table of Contents</a><a href="wx.html" class="navigation-links__next">微信小程序</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b259/app.js"></script></body></html>